Sneakers from the database: The list of sneakers (including brand, model, price, etc.) is read from a SQL database and displayed using Razor Pages. Filtering and sorting are handled in the PageModel, but all data is always fetched from the database.

Order creation: When the user proceeds to checkout, an Order record is created in the database along with related order lines for each item in the cart. The order ID is used to display the order confirmation.

Login and roles: Users log in with email and password; credentials are validated against the database. If the user is an admin, they are redirected to admin pages; otherwise, to the customer flow.

Session and cart: The shopping cart is stored temporarily in session. During checkout, the cart is read and a database transaction creates the order and its lines.

Repository/service layer: All database access is handled via repositories (using parameterized SQL queries), so the UI layer only calls methods like GetSneakers(), CreateOrder(...), CheckUser(...), etc.

Security and robustness: Parameterized queries are used to prevent SQL injection, and basic error handling/logging is implemented in the service layer.

Technical Details
ASP.NET Core Razor Pages services are registered in Program.cs using AddRazorPages, repositories as singletons, and routes are mapped with MapRazorPages(). The middleware pipeline includes HTTPS redirection, static files, routing, and UseAuthorization().

Login (customer/admin): OnPost() on the login page validates input, calls the repository to check email and password, and upon success stores UserEmail in session and redirects based on role.

Login check in repository: CheckKunde(email, password) opens a DB connection, uses parameterized SQL, reads results with SqlDataReader, and returns the customer and admin flag (or null).

Session and cart: The cart is stored in session. Methods like Add(shoe) and RemoveAll() update an internal list and write it back to session.

Checkout/order: At checkout, UserEmail is retrieved from session, the customer is looked up via repository, orders are created for the shoes in the cart, and the user is redirected to OrderConfirm with the order ID.

Sneaker filtering: The PageModel uses OnGet() to fetch all shoes and OnPostFilter() to filter by brand and optionally price. Properties are bound to form fields using [BindProperty].

PageModel: OnGet() is used for displaying data, OnPost() for actions (login, filtering, purchase).

Repository layer: Encapsulates DB access (customer/shoes/orders). Login uses parameterized queries to prevent SQL injection.

Session helpers: Small methods to read/write cart items in session and clear them after purchase or timeout.
